<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>充電樁管理系統</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="./font-awesome/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"
        integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"
        integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13"
        crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="./font-awesome/js/all.min.js"></script>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@100;300;400&display=swap" rel="stylesheet">

    <!-- <link rel="stylesheet" href="./range-plugin/wrunner-default-theme.css">
    <script src="./range-plugin/wrunner-native.js"></script>
    <script src="./range-plugin/wrunner-jquery.js"></script> -->

    <!-- datatable -->
    <!-- <link rel="stylesheet" type="text/css"
        href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.0.1/css/bootstrap.min.css" /> -->
    <link rel="stylesheet" type="text/css"
        href="https://cdn.datatables.net/v/bs5/jq-3.6.0/dt-1.11.5/date-1.1.2/r-2.2.9/sb-1.3.2/sp-2.0.0/datatables.min.css" />

    <!-- <script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.0.1/js/bootstrap.bundle.min.js"></script> -->
    <script type="text/javascript"
        src="https://cdn.datatables.net/v/bs5/jq-3.6.0/dt-1.11.5/date-1.1.2/r-2.2.9/sb-1.3.2/sp-2.0.0/datatables.min.js"></script>


    <link rel="stylesheet" href="style.css">
    <script src="./script.js"></script>
    <script src="./headerScript.js"></script>

</head>

<body>
    <header>
    </header>
    <script>
        $.get('header.html', function (response) {
            response = response.replace("${title-text}", "費率管理");
            $('header').html(response);
            afterGetHeader();
        });
    </script>
    <div class="d-flex">
        <div class="menu-holder" style="z-index: -1;"></div>
        <section class="position-relative flex-grow-1" id="system-main">
            <div class="mx-4">
                <ul class="nav border-bottom">
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="./fee.html">一般費率設定</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="./fee-special.html">特殊費率設定</a>
                    </li>
                </ul>
                <!-- <div class="row my-3 justify-content-center"> -->
                <!-- <div class="col">
                        <div class="card shadow-sm">
                            <div class="card-body position-relative">
                                <h5 class="card-title text-secondary">搜尋</h5>
                                <div class="row mx-1">
                                    <div class="d-flex align-items-center mb-3 col-xl-6 col-lg-12 col-md-6 pe-2">
                                        <div>
                                            <label style="flex-grow: 2;">場站</label>
                                        </div>
                                        <div>
                                            <input type="text" class="form-control" id="floatingInput"
                                                placeholder="輸入場域">
                                        </div>
                                    </div>
                                    <div
                                        class="d-flex align-items-center mb-3 col-xl-6 col-lg-12 col-md-6 pe-2 position-relative">
                                        <div>
                                            <label for="floatingInput" class="">費率</label>
                                        </div>
                                        <div class="w-100"> -->
                <!-- <div class="slider w-75"></div>
                                            <div class="d-flex slider-input-container w-75 justify-content-between">
                                                <input type="number" class="form-control min" value="0" min="0" max="100">
                                                <input type="number" class="form-control max" value="100" min="0" max="100">
                                            </div> -->
                <!-- <div>
                                                <input type="range" class="form-range" min="0" max="100"
                                                    id="dollarRange">
                                                <input type="number" class="form-control dollar" value="50" min="0"
                                                    max="100" id="dollarNum">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="w-100 text-end">
                                    <a href="#" class="btn btn-primary my-2">搜尋</a>
                                </div>
                            </div>
                        </div> -->
                <!-- </div> -->
                <!-- </div> -->
                <div class="row my-3 justify-content-center">
                    <div class="col">
                        <div class="card shadow-sm">
                            <div class="card-body position-relative">
                                <div class="d-flex justify-content-between mb-3">
                                    <h5 class="card-title text-secondary">一般費率</h5>
                                    <button class="btn btn-primary">+ 新增費率</button>
                                </div>
                                <div class=" overflow-auto">
                                    <table id="dollarTable" class="table table-striped">
                                        <thead>
                                            <tr>
                                                <th style="width: 4rem;"></th>
                                                <th>場站</th>
                                                <th>快充費率</th>
                                                <th>慢充費率</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>
                                                    <button class="btn btn-outline-primary">編輯</button>
                                                </td>
                                                <td>民權西</td>
                                                <td>$9</td>
                                                <td>$6</td>
                                            </tr>
                                            <tr>
                                                <td>
                                                    <button class="btn btn-outline-primary">編輯</button>
                                                </td>
                                                <td>圓山</td>
                                                <td>$9</td>
                                                <td>$6</td>
                                            </tr>
                                            <!--<tr>
            <td>
                <button class="btn btn-outline-primary">編輯</button>
            </td>
            <td>民權西</td>
            <td>$12</td>
        </tr>
        <tr>
            <td>
                <button class="btn btn-outline-primary">編輯</button>
            </td>
            <td>民權西</td>
            <td>$12</td>
        </tr>
        <tr>
            <td>
                <button class="btn btn-outline-primary">編輯</button>
            </td>
            <td>民權西</td>
            <td>$12</td>
        </tr>
        <tr>
            <td>
                <button class="btn btn-outline-primary">編輯</button>
            </td>
            <td>民權西</td>
            <td>$12</td>
        </tr>
        <tr>
            <td>
                <button class="btn btn-outline-primary">編輯</button>
            </td>
            <td>民權西</td>
            <td>$12</td>
        </tr>-->
                                        </tbody>
                                        <tfoot>
                                            <tr>
                                                <th class="no-search"></th>
                                                <th>場站</th>
                                                <th>費率</th>
                                            </tr>
                                        </tfoot>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>
</body>
<script>

    // var slider = wRunner({
    //     roots: document.querySelector('.slider'),
    //     type: 'single',
    //     limits: {
    //         minLimit: 0,
    //         maxLimit: 100
    //     },
    //     rangeValue: {
    //         minValue: 0,
    //         maxValue: 100,
    //     },
    //     step: 1,

    // });

    // slider.onValueUpdate(val => {
    //     $(".slider-input-container .min").val(val.minValue);
    //     $(".slider-input-container .max").val(val.maxValue);
    // })
    // $(".slider-input-container .min").change((e)=>{
    //     slider.setRangeValue({
    //         minValue:$(e.target).val()
    //     })
    // })
    // $(".slider-input-container .max").change((e)=>{
    //     slider.setRangeValue({
    //         maxValue:$(e.target).val()
    //     })
    // })
    $("#dollarRange").change(e => {
        $("#dollarNum").val($(e.target).val());
    })
    $("#dollarNum").change(e => {
        $("#dollarRange").val($(e.target).val());
    })
    $(function () {
        // $("dollarTable").DataTable();
        // Setup - add a text input to each footer cell
        $('#dollarTable tfoot th').each(function () {
            var title = $(this).text();
            if (!$(this).hasClass("no-search"))
                $(this).html('<input type="text" placeholder="搜尋 ' + title + '" />');
        });

        // DataTable
        var table = $('#dollarTable').DataTable({
            initComplete: function () {
                // Apply the search
                this.api().columns().every(function () {
                    var that = this;

                    $('input', this.footer()).on('keyup change clear', function () {
                        if (that.search() !== this.value) {
                            that
                                .search(this.value)
                                .draw();
                        }
                    });
                });
            }
            , language: {
                "decimal": "",
                "emptyTable": "No data available in table",
                "info": "顯示 _START_ 到 _END_ 筆 (共_TOTAL_筆 )",
                "infoEmpty": "顯示 0 到 0 筆 (共0筆 )",
                "infoFiltered": "(filtered from _MAX_ total entries)",
                "infoPostFix": "",
                "thousands": ",",
                "lengthMenu": "一頁 _MENU_ 筆",
                "loadingRecords": "Loading...",
                "processing": "Processing...",
                "search": "多欄搜尋:",
                "zeroRecords": "無符合資料",
                "paginate": {
                    "first": "第一筆",
                    "last": "最後一筆",
                    "next": "下一頁",
                    "previous": "上一頁"
                },
                "aria": {
                    "sortAscending": ": activate to sort column ascending",
                    "sortDescending": ": activate to sort column descending"
                }
            }
        }
        );
    })
</script>
<style>
    /* .slider-input-container input {
        text-align: center;
        min-width: 2rem;
        max-width: 4rem;
    } */

    /* Chrome, Safari, Edge, Opera */
    /* .slider-input-container input::-webkit-outer-spin-button,
    .slider-input-container input::-webkit-inner-spin-button {
        -webkit-appearance: none;
        margin: 0;
    } */

    /* Firefox */
    /* .slider-input-container input[type=number] {
        -moz-appearance: none;
    } */

    .dollar {
        min-width: 3rem;
        max-width: 5rem;
        -moz-appearance: none;
        text-align: center;
    }

    .dollar::-webkit-inner-spin-button {
        -webkit-appearance: none;
        margin: 0;
    }

    tfoot input {
        width: 100%;
        padding: 3px;
        box-sizing: border-box;
    }
</style>

</html>